---
name: blog-write
description: 体験ベースのブログ記事作成フロー（ヒアリング→骨格投稿→ユーザー執筆→校正→チームレビュー）
user-invocable: true
disable-model-invocation: true
allowed-tools: Read, Write, Glob, Grep, WebSearch, WebFetch, ToolSearch, Task, AskUserQuestion
---

# 体験ベース記事作成フロー

自由なテーマで、体験や試行錯誤の過程からブログ記事を作成します。
**AIは記事本文を書かない**。構成作成・校正・レビューに徹し、ユーザー自身が肉付けする。

**起動**: `/blog-write <テーマ>`（例: `/blog-write V60で抽出温度を5段階で比較した`）

## Phase 1: ヒアリング

テーマだけ渡された場合、以下を質問して素材を集める:

1. **何をしたか**: ゴールと結果
2. **きっかけ**: なぜそれをやろうと思ったか
3. **過程**: 試したこと、失敗、発見（時系列で）
4. **結論**: 最終的にどうなったか、おすすめは何か
5. **読者へのメッセージ**: 同じことをやる人へのアドバイス

すでに十分な情報が渡されている場合はヒアリングをスキップしてPhase 2へ進む。

## Phase 2: アウトライン生成 → microCMSに骨格だけ下書き投稿

ヒアリング結果 + WebSearchでの補足調査から構成を作る。

**WebSearchの使い方**:
- 同じテーマの既存記事を確認（差別化ポイントの把握）
- 技術的な裏付けや補足情報の収集
- 関連キーワードの把握（SEOは副次的、あくまで参考）

**出力フォーマット**:

```markdown
# アウトライン: [テーマ]

## 記事の方向性

- **切り口**: 体験談 / 検証レポート / 制作記録 / 解説+実践
- **読者が得るもの**: xxx
- **独自性**: xxx（実データ、失敗談、比較結果など）

## タイトル案（3パターン）

1. xxx
2. xxx
3. xxx

## メタディスクリプション

> xxx

## 見出し構成

### H2: リード（なぜこれをやったか）
- きっかけ、背景
- **執筆ガイド**: [何を書くべきか]（目安XXX字）

### H2: [試行錯誤パート1]
#### H3: xxx
- やったこと、結果、気づき
- **執筆ガイド**: [何を書くべきか]（目安XXX字）

### H2: [試行錯誤パート2]
...

### H2: 結論・まとめ
- 最終的な結果
- おすすめ・アドバイス
- **執筆ガイド**: [何を書くべきか]（目安XXX字）

## 素材チェック

- [ ] 写真が必要な箇所
- [ ] データ・計測値が必要な箇所
- [ ] 補足調査が必要な箇所
```

アウトラインを提示し、ユーザーの承認を待つ。修正があれば反映する。

### 承認後: microCMSに骨格を下書き投稿

**記事本文はAIが書かない。** 見出し構成 + 各セクションの執筆ガイドのみ作成し、microCMSに投稿する。

投稿するHTMLは骨格 + 各セクションの内容メモ:

```html
<h2>見出し1（なぜこれをやったか）</h2>
<p><strong>内容メモ:</strong> きっかけと背景を書く。○○に困っていた、△△を試したかった等。読者が「自分も同じだ」と思える導入にする。</p>
<p><!-- USER_WRITE: ここに○○のきっかけ・背景を書く（目安500字） --></p>

<h2>見出し2</h2>
<h3>小見出し</h3>
<p><strong>内容メモ:</strong> 実際にやったこと・手順・使ったツールを具体的に。結果のデータや数値があれば含める。うまくいかなかった点も正直に書くと記事の価値が上がる。</p>
<p><!-- USER_WRITE: ここに△△の結果と気づきを書く（目安300字） --></p>

<h2>結論・まとめ</h2>
<p><strong>内容メモ:</strong> 最終的にどうなったか、おすすめは何か。同じことをやる人への具体的アドバイスを添える。</p>
<p><!-- USER_WRITE: ここに最終結論とおすすめを書く（目安400字） --></p>
```

各セクションの `<strong>内容メモ:</strong>` は、ユーザーが執筆時に「何を書けばいいか」の手がかりになる。
ユーザーが本文を書いたら、内容メモごと置き換える。

### microCMS投稿手順

1. ToolSearchで `microcms create draft` を検索し、`mcp__microcms__microcms_create_content_draft` をロード
2. 以下の形式で**下書きステータス**として作成:
   ```
   endpoint: "blogs"
   content: {
     "title": "記事タイトル",
     "content": "<h2>見出し</h2><p><strong>内容メモ:</strong> ...</p><p><!-- USER_WRITE: 説明 --></p>..."
   }
   ```
3. 作成成功後、返却された `id` を記録する（以降のPhaseで使用）

**重要な注意点**:
- 必ず `mcp__microcms__microcms_create_content_draft` を使用する（`_published` ではなく `_draft`）。公開状態で投稿しないこと
- フィールド名は `title` と `content` のみ。`body`, `description` は存在しない（400エラー）
- `content` フィールドにはHTML文字列を渡す
- Management API（`get_api_list`, `get_api_info`）は403のため使用不可
- APIキーにPOST権限が必要

## Phase 3: ユーザー執筆待ち

microCMSへの骨格投稿後、以下をユーザーに提示する:

### 提示する情報

1. **microCMS管理画面URL**: `https://aiirononeko.microcms.io/apis/blogs/{contentId}`
2. **各セクションの執筆ガイド**:
   ```
   ## 執筆ガイド

   ### H2: [見出し1]
   - 書くこと: [具体的に何を書くべきか]
   - 文字数目安: XXX字
   - ポイント: [読者が知りたいこと、含めると良い要素]

   ### H2: [見出し2]
   ...
   ```

### Linearタスク生成

ToolSearchで `linear create issue` を検索し、`mcp__linear__create_issue` をロードして、執筆タスクを生成する。

```
team: "Aiirononeko-private"
title: "記事執筆: [記事タイトル]"
description: |
  ## 対象記事
  - **タイトル**: [記事タイトル]
  - **microCMS管理画面**: https://aiirononeko.microcms.io/apis/blogs/{contentId}

  ## 執筆セクション
  - [ ] H2: [見出し1]（目安XXX字）
  - [ ] H2: [見出し2]（目安XXX字）
  - [ ] H2: [見出し3]（目安XXX字）
  ...

  ## 次のアクション
  1. microCMS管理画面で各セクションの `<!-- USER_WRITE: ... -->` を自分の文章に置換
  2. 全セクション執筆後、Claude Codeで「執筆完了」と伝える
  3. 校正（/blog-polish）→ チームレビュー（/blog-review）が自動実行される
assignee: "me"
state: "Todo"
priority: 3
labels: ["ブログ"]
```

### 待機

ユーザーに「執筆が完了したら『執筆完了』と伝えてください」と案内する。
ユーザーが「執筆完了」「書いた」「書き終わった」等と伝えたらPhase 4へ進む。

## Phase 4: 校正・清書

ユーザーの執筆完了後、`/blog-polish` スキルを呼び出して校正・清書を実施する。

Skillツールで `blog-polish` を呼び出す:
```
skill: "blog-polish"
args: "<記事タイトル>"
```

`/blog-polish` が以下を実施:
- microCMSから記事取得
- 誤字脱字、文法、表記ゆれの校正
- カタダ文体への調整（`/blog-humanize` のルールを適用）
- ただしユーザーの体験・事実・意見は一切変えない
- microCMS下書き更新
- Before/After例を3つ提示

## Phase 5: チームレビュー

校正完了後、`/blog-review` スキルを呼び出してチームレビューを実施する。

Skillツールで `blog-review` を呼び出す:
```
skill: "blog-review"
args: "<記事タイトル>"
```

`/blog-review` が4人の専門家エージェントによる並列レビューを実施し、100点満点で採点する。

## フロー全体像

```
/blog-write <テーマ>
    │
    ├─ Phase 1: ヒアリング（必要に応じて）
    │
    ├─ Phase 2: アウトライン提示 → ユーザー承認 → microCMSに骨格投稿
    │
    ├─ Phase 3: ユーザー執筆待ち（ガイダンス提示 + Linearタスク生成）
    │       │
    │       └─ ユーザーが「執筆完了」と伝える
    │
    ├─ Phase 4: 校正・清書（/blog-polish を呼び出し）
    │
    └─ Phase 5: チームレビュー（/blog-review を呼び出し）
```

各フェーズの間でユーザーに確認を取りながら進める。
